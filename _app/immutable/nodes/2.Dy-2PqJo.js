import{t as Zr,b as qr}from"../chunks/CowqXRAS.js";import{i as Ya}from"../chunks/rQ8KRRup.js";import{t as Za,W as qa,y as to,Y as nr,D as rr,a0 as ro,a1 as eo,X as no,a2 as ao,U as oo}from"../chunks/oLtghWby.js";import{e as Kr}from"../chunks/DOq4m96K.js";import{b as io}from"../chunks/B6zllX-l.js";import{o as so}from"../chunks/CV5EsZTn.js";var te=o=>{throw TypeError(o)},re=(o,f,h)=>f.has(o)||te("Cannot "+h),co=(o,f,h)=>(re(o,f,"read from private field"),h?h.call(o):f.get(o)),uo=(o,f,h)=>f.has(o)?te("Cannot add the same private member more than once"):f instanceof WeakSet?f.add(o):f.set(o,h),lo=(o,f,h,T)=>(re(o,f,"write to private field"),f.set(o,h),h);const kt=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Ut=kt.map(([o])=>o),fo=Ut.filter((o,f)=>kt[f][1]==="L"),ho=Ut.filter((o,f)=>kt[f][1]==="M");function ar(o){switch(o){case"Linear-Codes":return fo.reduce((f,h)=>f|ar(h),0);case"Matrix-Codes":return ho.reduce((f,h)=>f|ar(h),0);case"Any":return(1<<kt.length)-1;case"None":return 0;default:return 1<<Ut.indexOf(o)}}function po(o){if(o===0)return"None";const f=31-Math.clz32(o);return Ut[f]}function vo(o){return o.reduce((f,h)=>f|ar(h),0)}const yo=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function mo(o){return yo.indexOf(o)}const Xr=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function go(o){return o==="UnicodeBig"?Xr.indexOf("UTF16BE"):Xr.indexOf(o)}const wo=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function $o(o){return wo[o]}const bo=["Ignore","Read","Require"];function Co(o){return bo.indexOf(o)}const To=["Plain","ECI","HRI","Hex","Escaped"];function _o(o){return To.indexOf(o)}const Rt={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function Jr(o){return{...o,formats:vo(o.formats),binarizer:mo(o.binarizer),eanAddOnSymbol:Co(o.eanAddOnSymbol),textMode:_o(o.textMode),characterSet:go(o.characterSet)}}function Po(o){return{...o,format:po(o.format),contentType:$o(o.contentType),eccLevel:o.ecLevel}}const Eo={locateFile:(o,f)=>{const h=o.match(/_(.+?)\.wasm$/);return h?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.0/dist/${h[1]}/${o}`:f+o}},er=new WeakMap;function Ao(o,f){return Object.is(o,f)||Object.keys(o).length===Object.keys(f).length&&Object.keys(o).every(h=>Object.prototype.hasOwnProperty.call(f,h)&&o[h]===f[h])}function ee(o,{overrides:f,equalityFn:h=Ao,fireImmediately:T=!1}={}){var l;const[O,S]=(l=er.get(o))!=null?l:[Eo],F=f??O;let P;if(T){if(S&&(P=h(O,F)))return S;const j=o({...F});return er.set(o,[F,j]),j}(P??h(O,F))||er.set(o,[F])}async function Oo(o,f,h=Rt){const T={...Rt,...h},l=await ee(o,{fireImmediately:!0});let O,S;if("width"in f&&"height"in f&&"data"in f){const{data:P,data:{byteLength:j},width:B,height:H}=f;S=l._malloc(j),l.HEAPU8.set(P,S),O=l.readBarcodesFromPixmap(S,B,H,Jr(T))}else{let P,j;if("buffer"in f)[P,j]=[f.byteLength,f];else if("byteLength"in f)[P,j]=[f.byteLength,new Uint8Array(f)];else if("size"in f)[P,j]=[f.size,new Uint8Array(await f.arrayBuffer())];else throw new TypeError("Invalid input type");S=l._malloc(P),l.HEAPU8.set(j,S),O=l.readBarcodesFromImage(S,P,Jr(T))}l._free(S);const F=[];for(let P=0;P<O.size();++P)F.push(Po(O.get(P)));return F}({...Rt,formats:[...Rt.formats]});var ne=(()=>{var o,f=typeof document<"u"&&((o=document.currentScript)==null?void 0:o.tagName.toUpperCase())==="SCRIPT"?document.currentScript.src:void 0;return function(h={}){var T,l=h,O,S,F=new Promise((t,r)=>{O=t,S=r}),P=typeof window=="object",j=typeof Bun<"u",B=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var H=Object.assign({},l),U="./this.program",x="";function pt(t){return l.locateFile?l.locateFile(t,x):x+t}var ot,it;if(P||B||j){var st;B?x=self.location.href:typeof document<"u"&&((st=document.currentScript)===null||st===void 0?void 0:st.tagName.toUpperCase())==="SCRIPT"&&(x=document.currentScript.src),f&&(x=f),x.startsWith("blob:")?x="":x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1),B&&(it=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),ot=async t=>{var r=await fetch(t,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)}}var pe=l.print||console.log.bind(console),rt=l.printErr||console.error.bind(console);Object.assign(l,H),H=null,l.arguments&&l.arguments,l.thisProgram&&(U=l.thisProgram);var vt=l.wasmBinary,yt,ir=!1,N,W,ct,mt,et,_,sr,cr;function ur(){var t=yt.buffer;l.HEAP8=N=new Int8Array(t),l.HEAP16=ct=new Int16Array(t),l.HEAPU8=W=new Uint8Array(t),l.HEAPU16=mt=new Uint16Array(t),l.HEAP32=et=new Int32Array(t),l.HEAPU32=_=new Uint32Array(t),l.HEAPF32=sr=new Float32Array(t),l.HEAPF64=cr=new Float64Array(t)}var lr=[],fr=[],dr=[];function ve(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)ge(l.preRun.shift());Bt(lr)}function ye(){Bt(fr)}function me(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)$e(l.postRun.shift());Bt(dr)}function ge(t){lr.unshift(t)}function we(t){fr.unshift(t)}function $e(t){dr.unshift(t)}var Y=0,ut=null;function be(t){var r;Y++,(r=l.monitorRunDependencies)===null||r===void 0||r.call(l,Y)}function Ce(t){var r;if(Y--,(r=l.monitorRunDependencies)===null||r===void 0||r.call(l,Y),Y==0&&ut){var e=ut;ut=null,e()}}function Wt(t){var r;(r=l.onAbort)===null||r===void 0||r.call(l,t),t="Aborted("+t+")",rt(t),ir=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw S(e),e}var Te="data:application/octet-stream;base64,",hr=t=>t.startsWith(Te);function _e(){var t="zxing_reader.wasm";return hr(t)?t:pt(t)}var gt;function Pe(t){if(t==gt&&vt)return new Uint8Array(vt);if(it)return it(t);throw"both async and sync fetching of the wasm failed"}async function Ee(t){if(!vt)try{var r=await ot(t);return new Uint8Array(r)}catch{}return Pe(t)}async function Ae(t,r){try{var e=await Ee(t),n=await WebAssembly.instantiate(e,r);return n}catch(a){rt(`failed to asynchronously prepare wasm: ${a}`),Wt(a)}}async function Oe(t,r,e){if(!t&&typeof WebAssembly.instantiateStreaming=="function"&&!hr(r)&&typeof fetch=="function")try{var n=fetch(r,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(n,e);return a}catch(i){rt(`wasm streaming compile failed: ${i}`),rt("falling back to ArrayBuffer instantiation")}return Ae(r,e)}function Se(){return{a:va}}async function xe(){var t;function r(i,c){return A=i.exports,yt=A.xa,ur(),Tr=A.Ba,we(A.ya),Ce(),A}be();function e(i){r(i.instance)}var n=Se();if(l.instantiateWasm)try{return l.instantiateWasm(n,r)}catch(i){rt(`Module.instantiateWasm callback failed with error: ${i}`),S(i)}(t=gt)!==null&&t!==void 0||(gt=_e());try{var a=await Oe(vt,gt,n);return e(a),a}catch(i){S(i);return}}var Bt=t=>{for(;t.length>0;)t.shift()(l)};l.noExitRuntime;var m=t=>Rr(t),g=()=>kr(),wt=[],$t=0,Ie=t=>{var r=new Lt(t);return r.get_caught()||(r.set_caught(!0),$t--),r.set_rethrown(!1),wt.push(r),Wr(t),Mr(t)},z=0,De=()=>{y(0,0);var t=wt.pop();Ur(t.excPtr),z=0};class Lt{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){_[this.ptr+4>>2]=r}get_type(){return _[this.ptr+4>>2]}set_destructor(r){_[this.ptr+8>>2]=r}get_destructor(){return _[this.ptr+8>>2]}set_caught(r){r=r?1:0,N[this.ptr+12]=r}get_caught(){return N[this.ptr+12]!=0}set_rethrown(r){r=r?1:0,N[this.ptr+13]=r}get_rethrown(){return N[this.ptr+13]!=0}init(r,e){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(e)}set_adjusted_ptr(r){_[this.ptr+16>>2]=r}get_adjusted_ptr(){return _[this.ptr+16>>2]}}var je=t=>{throw z||(z=t),z},bt=t=>Fr(t),Ht=t=>{var r=z;if(!r)return bt(0),0;var e=new Lt(r);e.set_adjusted_ptr(r);var n=e.get_type();if(!n)return bt(0),r;for(var a of t){if(a===0||a===n)break;var i=e.ptr+16;if(Br(a,n,i))return bt(a),r}return bt(n),r},Me=()=>Ht([]),Fe=t=>Ht([t]),Re=(t,r)=>Ht([t,r]),ke=()=>{var t=wt.pop();t||Wt("no exception to throw");var r=t.excPtr;throw t.get_rethrown()||(wt.push(t),t.set_rethrown(!0),t.set_caught(!1),$t++),z=r,z},Ue=(t,r,e)=>{var n=new Lt(t);throw n.init(r,e),z=t,$t++,z},We=()=>$t,Be=()=>Wt(""),Ct={},Vt=t=>{for(;t.length;){var r=t.pop(),e=t.pop();e(r)}};function lt(t){return this.fromWireType(_[t>>2])}var nt={},Z={},Tt={},pr,_t=t=>{throw new pr(t)},q=(t,r,e)=>{t.forEach(s=>Tt[s]=r);function n(s){var u=e(s);u.length!==t.length&&_t("Mismatched type converter count");for(var d=0;d<t.length;++d)V(t[d],u[d])}var a=new Array(r.length),i=[],c=0;r.forEach((s,u)=>{Z.hasOwnProperty(s)?a[u]=Z[s]:(i.push(s),nt.hasOwnProperty(s)||(nt[s]=[]),nt[s].push(()=>{a[u]=Z[s],++c,c===i.length&&n(a)}))}),i.length===0&&n(a)},Le=t=>{var r=Ct[t];delete Ct[t];var e=r.rawConstructor,n=r.rawDestructor,a=r.fields,i=a.map(c=>c.getterReturnType).concat(a.map(c=>c.setterArgumentType));q([t],i,c=>{var s={};return a.forEach((u,d)=>{var p=u.fieldName,v=c[d],$=u.getter,C=u.getterContext,E=c[d+a.length],M=u.setter,I=u.setterContext;s[p]={read:D=>v.fromWireType($(C,D)),write:(D,tt)=>{var k=[];M(I,D,E.toWireType(k,tt)),Vt(k)}}}),[{name:r.name,fromWireType:u=>{var d={};for(var p in s)d[p]=s[p].read(u);return n(u),d},toWireType:(u,d)=>{for(var p in s)if(!(p in d))throw new TypeError(`Missing field: "${p}"`);var v=e();for(p in s)s[p].write(v,d[p]);return u!==null&&u.push(n,v),v},argPackAdvance:G,readValueFromPointer:lt,destructorFunction:n}]})},He=(t,r,e,n,a)=>{},Ve=()=>{for(var t=new Array(256),r=0;r<256;++r)t[r]=String.fromCharCode(r);vr=t},vr,R=t=>{for(var r="",e=t;W[e];)r+=vr[W[e++]];return r},at,b=t=>{throw new at(t)};function Ne(t,r){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n=r.name;if(t||b(`type "${n}" must have a positive integer typeid pointer`),Z.hasOwnProperty(t)){if(e.ignoreDuplicateRegistrations)return;b(`Cannot register type '${n}' twice`)}if(Z[t]=r,delete Tt[t],nt.hasOwnProperty(t)){var a=nt[t];delete nt[t],a.forEach(i=>i())}}function V(t,r){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ne(t,r,e)}var G=8,ze=(t,r,e,n)=>{r=R(r),V(t,{name:r,fromWireType:function(a){return!!a},toWireType:function(a,i){return i?e:n},argPackAdvance:G,readValueFromPointer:function(a){return this.fromWireType(W[a])},destructorFunction:null})},Ge=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),Nt=t=>{function r(e){return e.$$.ptrType.registeredClass.name}b(r(t)+" instance already deleted")},zt=!1,yr=t=>{},Qe=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},mr=t=>{t.count.value-=1;var r=t.count.value===0;r&&Qe(t)},gr=(t,r,e)=>{if(r===e)return t;if(e.baseClass===void 0)return null;var n=gr(t,r,e.baseClass);return n===null?null:e.downcast(n)},wr={},Ke={},Xe=(t,r)=>{for(r===void 0&&b("ptr should not be undefined");t.baseClass;)r=t.upcast(r),t=t.baseClass;return r},Je=(t,r)=>(r=Xe(t,r),Ke[r]),Pt=(t,r)=>{(!r.ptrType||!r.ptr)&&_t("makeClassHandle requires ptr and ptrType");var e=!!r.smartPtrType,n=!!r.smartPtr;return e!==n&&_t("Both smartPtrType and smartPtr must be specified"),r.count={value:1},ft(Object.create(t,{$$:{value:r,writable:!0}}))};function Ye(t){var r=this.getPointee(t);if(!r)return this.destructor(t),null;var e=Je(this.registeredClass,r);if(e!==void 0){if(e.$$.count.value===0)return e.$$.ptr=r,e.$$.smartPtr=t,e.clone();var n=e.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?Pt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:t}):Pt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var i=this.registeredClass.getActualType(r),c=wr[i];if(!c)return a.call(this);var s;this.isConst?s=c.constPointerType:s=c.pointerType;var u=gr(r,this.registeredClass,s.registeredClass);return u===null?a.call(this):this.isSmartPointer?Pt(s.registeredClass.instancePrototype,{ptrType:s,ptr:u,smartPtrType:this,smartPtr:t}):Pt(s.registeredClass.instancePrototype,{ptrType:s,ptr:u})}var ft=t=>typeof FinalizationRegistry>"u"?(ft=r=>r,t):(zt=new FinalizationRegistry(r=>{mr(r.$$)}),ft=r=>{var e=r.$$,n=!!e.smartPtr;if(n){var a={$$:e};zt.register(r,a,r)}return r},yr=r=>zt.unregister(r),ft(t)),Ze=()=>{Object.assign(Et.prototype,{isAliasOf(t){if(!(this instanceof Et)||!(t instanceof Et))return!1;var r=this.$$.ptrType.registeredClass,e=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,a=t.$$.ptr;r.baseClass;)e=r.upcast(e),r=r.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return r===n&&e===a},clone(){if(this.$$.ptr||Nt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=ft(Object.create(Object.getPrototypeOf(this),{$$:{value:Ge(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||Nt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&b("Object already scheduled for deletion"),yr(this),mr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Nt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&b("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function Et(){}var At=(t,r)=>Object.defineProperty(r,"name",{value:t}),$r=(t,r,e)=>{if(t[r].overloadTable===void 0){var n=t[r];t[r]=function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return t[r].overloadTable.hasOwnProperty(i.length)||b(`Function '${e}' called with an invalid number of arguments (${i.length}) - expects one of (${t[r].overloadTable})!`),t[r].overloadTable[i.length].apply(this,i)},t[r].overloadTable=[],t[r].overloadTable[n.argCount]=n}},br=(t,r,e)=>{l.hasOwnProperty(t)?((e===void 0||l[t].overloadTable!==void 0&&l[t].overloadTable[e]!==void 0)&&b(`Cannot register public name '${t}' twice`),$r(l,t,t),l[t].overloadTable.hasOwnProperty(e)&&b(`Cannot register multiple overloads of a function with the same number of arguments (${e})!`),l[t].overloadTable[e]=r):(l[t]=r,l[t].argCount=e)},qe=48,tn=57,rn=t=>{t=t.replace(/[^a-zA-Z0-9_]/g,"$");var r=t.charCodeAt(0);return r>=qe&&r<=tn?`_${t}`:t};function en(t,r,e,n,a,i,c,s){this.name=t,this.constructor=r,this.instancePrototype=e,this.rawDestructor=n,this.baseClass=a,this.getActualType=i,this.upcast=c,this.downcast=s,this.pureVirtualFunctions=[]}var Gt=(t,r,e)=>{for(;r!==e;)r.upcast||b(`Expected null or instance of ${e.name}, got an instance of ${r.name}`),t=r.upcast(t),r=r.baseClass;return t};function nn(t,r){if(r===null)return this.isReference&&b(`null is not a valid ${this.name}`),0;r.$$||b(`Cannot pass "${Yt(r)}" as a ${this.name}`),r.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`);var e=r.$$.ptrType.registeredClass,n=Gt(r.$$.ptr,e,this.registeredClass);return n}function an(t,r){var e;if(r===null)return this.isReference&&b(`null is not a valid ${this.name}`),this.isSmartPointer?(e=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,e),e):0;(!r||!r.$$)&&b(`Cannot pass "${Yt(r)}" as a ${this.name}`),r.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&b(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(e=Gt(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&b("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?e=r.$$.smartPtr:b(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:e=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)e=r.$$.smartPtr;else{var a=r.clone();e=this.rawShare(e,K.toHandle(()=>a.delete())),t!==null&&t.push(this.rawDestructor,e)}break;default:b("Unsupporting sharing policy")}return e}function on(t,r){if(r===null)return this.isReference&&b(`null is not a valid ${this.name}`),0;r.$$||b(`Cannot pass "${Yt(r)}" as a ${this.name}`),r.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&b(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var e=r.$$.ptrType.registeredClass,n=Gt(r.$$.ptr,e,this.registeredClass);return n}var sn=()=>{Object.assign(Ot.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){var r;(r=this.rawDestructor)===null||r===void 0||r.call(this,t)},argPackAdvance:G,readValueFromPointer:lt,fromWireType:Ye})};function Ot(t,r,e,n,a,i,c,s,u,d,p){this.name=t,this.registeredClass=r,this.isReference=e,this.isConst=n,this.isSmartPointer=a,this.pointeeType=i,this.sharingPolicy=c,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=d,this.rawDestructor=p,!a&&r.baseClass===void 0?n?(this.toWireType=nn,this.destructorFunction=null):(this.toWireType=on,this.destructorFunction=null):this.toWireType=an}var Cr=(t,r,e)=>{l.hasOwnProperty(t)||_t("Replacing nonexistent public symbol"),l[t].overloadTable!==void 0&&e!==void 0?l[t].overloadTable[e]=r:(l[t]=r,l[t].argCount=e)},cn=(t,r,e)=>{t=t.replace(/p/g,"i");var n=l["dynCall_"+t];return n(r,...e)},St=[],Tr,w=t=>{var r=St[t];return r||(t>=St.length&&(St.length=t+1),St[t]=r=Tr.get(t)),r},un=function(t,r){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.includes("j"))return cn(t,r,e);var n=w(r)(...e);return n},ln=(t,r)=>function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return un(t,r,n)},L=(t,r)=>{t=R(t);function e(){return t.includes("j")?ln(t,r):w(r)}var n=e();return typeof n!="function"&&b(`unknown function pointer with signature ${t}: ${r}`),n},fn=(t,r)=>{var e=At(r,function(n){this.name=r,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},e},_r,Pr=t=>{var r=jr(t),e=R(r);return X(r),e},xt=(t,r)=>{var e=[],n={};function a(i){if(!n[i]&&!Z[i]){if(Tt[i]){Tt[i].forEach(a);return}e.push(i),n[i]=!0}}throw r.forEach(a),new _r(`${t}: `+e.map(Pr).join([", "]))},dn=(t,r,e,n,a,i,c,s,u,d,p,v,$)=>{p=R(p),i=L(a,i),s&&(s=L(c,s)),d&&(d=L(u,d)),$=L(v,$);var C=rn(p);br(C,function(){xt(`Cannot construct ${p} due to unbound types`,[n])}),q([t,r,e],n?[n]:[],E=>{E=E[0];var M,I;n?(M=E.registeredClass,I=M.instancePrototype):I=Et.prototype;var D=At(p,function(){if(Object.getPrototypeOf(this)!==tt)throw new at("Use 'new' to construct "+p);if(k.constructor_body===void 0)throw new at(p+" has no accessible constructor");for(var Gr=arguments.length,jt=new Array(Gr),Mt=0;Mt<Gr;Mt++)jt[Mt]=arguments[Mt];var Qr=k.constructor_body[jt.length];if(Qr===void 0)throw new at(`Tried to invoke ctor of ${p} with invalid number of parameters (${jt.length}) - expected (${Object.keys(k.constructor_body).toString()}) parameters instead!`);return Qr.apply(this,jt)}),tt=Object.create(I,{constructor:{value:D}});D.prototype=tt;var k=new en(p,D,tt,$,M,i,s,d);if(k.baseClass){var J,Dt;(Dt=(J=k.baseClass).__derivedClasses)!==null&&Dt!==void 0||(J.__derivedClasses=[]),k.baseClass.__derivedClasses.push(k)}var Ja=new Ot(p,k,!0,!1,!1),Nr=new Ot(p+"*",k,!1,!1,!1),zr=new Ot(p+" const*",k,!1,!0,!1);return wr[t]={pointerType:Nr,constPointerType:zr},Cr(C,D),[Ja,Nr,zr]})},Qt=(t,r)=>{for(var e=[],n=0;n<t;n++)e.push(_[r+n*4>>2]);return e};function hn(t){for(var r=1;r<t.length;++r)if(t[r]!==null&&t[r].destructorFunction===void 0)return!0;return!1}function Kt(t,r,e,n,a,i){var c=r.length;c<2&&b("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=r[1]!==null&&e!==null,u=hn(r),d=r[0].name!=="void",p=c-2,v=new Array(p),$=[],C=[],E=function(){C.length=0;var M;$.length=s?2:1,$[0]=a,s&&(M=r[1].toWireType(C,this),$[1]=M);for(var I=0;I<p;++I)v[I]=r[I+2].toWireType(C,I<0||arguments.length<=I?void 0:arguments[I]),$.push(v[I]);var D=n(...$);function tt(k){if(u)Vt(C);else for(var J=s?1:2;J<r.length;J++){var Dt=J===1?M:v[J-2];r[J].destructorFunction!==null&&r[J].destructorFunction(Dt)}if(d)return r[0].fromWireType(k)}return tt(D)};return At(t,E)}var pn=(t,r,e,n,a,i)=>{var c=Qt(r,e);a=L(n,a),q([],[t],s=>{s=s[0];var u=`constructor ${s.name}`;if(s.registeredClass.constructor_body===void 0&&(s.registeredClass.constructor_body=[]),s.registeredClass.constructor_body[r-1]!==void 0)throw new at(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[r-1]=()=>{xt(`Cannot construct ${s.name} due to unbound types`,c)},q([],c,d=>(d.splice(1,0,null),s.registeredClass.constructor_body[r-1]=Kt(u,d,null,a,i),[])),[]})},Er=t=>{t=t.trim();const r=t.indexOf("(");return r!==-1?t.substr(0,r):t},vn=(t,r,e,n,a,i,c,s,u,d)=>{var p=Qt(e,n);r=R(r),r=Er(r),i=L(a,i),q([],[t],v=>{v=v[0];var $=`${v.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),s&&v.registeredClass.pureVirtualFunctions.push(r);function C(){xt(`Cannot call ${$} due to unbound types`,p)}var E=v.registeredClass.instancePrototype,M=E[r];return M===void 0||M.overloadTable===void 0&&M.className!==v.name&&M.argCount===e-2?(C.argCount=e-2,C.className=v.name,E[r]=C):($r(E,r,$),E[r].overloadTable[e-2]=C),q([],p,I=>{var D=Kt($,I,v,i,c);return E[r].overloadTable===void 0?(D.argCount=e-2,E[r]=D):E[r].overloadTable[e-2]=D,[]}),[]})},Xt=[],Q=[],Jt=t=>{t>9&&--Q[t+1]===0&&(Q[t]=void 0,Xt.push(t))},yn=()=>Q.length/2-5-Xt.length,mn=()=>{Q.push(0,1,void 0,1,null,1,!0,1,!1,1),l.count_emval_handles=yn},K={toValue:t=>(t||b("Cannot use deleted val. handle = "+t),Q[t]),toHandle:t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const r=Xt.pop()||Q.length;return Q[r]=t,Q[r+1]=1,r}}}},Ar={name:"emscripten::val",fromWireType:t=>{var r=K.toValue(t);return Jt(t),r},toWireType:(t,r)=>K.toHandle(r),argPackAdvance:G,readValueFromPointer:lt,destructorFunction:null},gn=t=>V(t,Ar),Yt=t=>{if(t===null)return"null";var r=typeof t;return r==="object"||r==="array"||r==="function"?t.toString():""+t},wn=(t,r)=>{switch(r){case 4:return function(e){return this.fromWireType(sr[e>>2])};case 8:return function(e){return this.fromWireType(cr[e>>3])};default:throw new TypeError(`invalid float width (${r}): ${t}`)}},$n=(t,r,e)=>{r=R(r),V(t,{name:r,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:G,readValueFromPointer:wn(r,e),destructorFunction:null})},bn=(t,r,e,n,a,i,c,s)=>{var u=Qt(r,e);t=R(t),t=Er(t),a=L(n,a),br(t,function(){xt(`Cannot call ${t} due to unbound types`,u)},r-1),q([],u,d=>{var p=[d[0],null].concat(d.slice(1));return Cr(t,Kt(t,p,null,a,i),r-1),[]})},Cn=(t,r,e)=>{switch(r){case 1:return e?n=>N[n]:n=>W[n];case 2:return e?n=>ct[n>>1]:n=>mt[n>>1];case 4:return e?n=>et[n>>2]:n=>_[n>>2];default:throw new TypeError(`invalid integer width (${r}): ${t}`)}},Tn=(t,r,e,n,a)=>{r=R(r);var i=p=>p;if(n===0){var c=32-8*e;i=p=>p<<c>>>c}var s=r.includes("unsigned"),u=(p,v)=>{},d;s?d=function(p,v){return u(v,this.name),v>>>0}:d=function(p,v){return u(v,this.name),v},V(t,{name:r,fromWireType:i,toWireType:d,argPackAdvance:G,readValueFromPointer:Cn(r,e,n!==0),destructorFunction:null})},_n=(t,r,e)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[r];function i(c){var s=_[c>>2],u=_[c+4>>2];return new a(N.buffer,u,s)}e=R(e),V(t,{name:e,fromWireType:i,argPackAdvance:G,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},Pn=Object.assign({optional:!0},Ar),En=(t,r)=>{V(t,Pn)},An=(t,r,e,n)=>{if(!(n>0))return 0;for(var a=e,i=e+n-1,c=0;c<t.length;++c){var s=t.charCodeAt(c);if(s>=55296&&s<=57343){var u=t.charCodeAt(++c);s=65536+((s&1023)<<10)|u&1023}if(s<=127){if(e>=i)break;r[e++]=s}else if(s<=2047){if(e+1>=i)break;r[e++]=192|s>>6,r[e++]=128|s&63}else if(s<=65535){if(e+2>=i)break;r[e++]=224|s>>12,r[e++]=128|s>>6&63,r[e++]=128|s&63}else{if(e+3>=i)break;r[e++]=240|s>>18,r[e++]=128|s>>12&63,r[e++]=128|s>>6&63,r[e++]=128|s&63}}return r[e]=0,e-a},dt=(t,r,e)=>An(t,W,r,e),On=t=>{for(var r=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++e):r+=3}return r},Or=typeof TextDecoder<"u"?new TextDecoder:void 0,Sr=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var n=r+e,a=r;t[a]&&!(a>=n);)++a;if(a-r>16&&t.buffer&&Or)return Or.decode(t.subarray(r,a));for(var i="";r<a;){var c=t[r++];if(!(c&128)){i+=String.fromCharCode(c);continue}var s=t[r++]&63;if((c&224)==192){i+=String.fromCharCode((c&31)<<6|s);continue}var u=t[r++]&63;if((c&240)==224?c=(c&15)<<12|s<<6|u:c=(c&7)<<18|s<<12|u<<6|t[r++]&63,c<65536)i+=String.fromCharCode(c);else{var d=c-65536;i+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return i},Sn=(t,r)=>t?Sr(W,t,r):"",xn=(t,r)=>{r=R(r),V(t,{name:r,fromWireType(e){for(var n=_[e>>2],a=e+4,i,s,c=a,s=0;s<=n;++s){var u=a+s;if(s==n||W[u]==0){var d=u-c,p=Sn(c,d);i===void 0?i=p:(i+="\0",i+=p),c=u+1}}return X(e),i},toWireType(e,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var a,i=typeof n=="string";i||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||b("Cannot pass non-string to std::string"),i?a=On(n):a=n.length;var c=tr(4+a+1),s=c+4;if(_[c>>2]=a,i)dt(n,s,a+1);else if(i)for(var u=0;u<a;++u){var d=n.charCodeAt(u);d>255&&(X(s),b("String has UTF-16 code units that do not fit in 8 bits")),W[s+u]=d}else for(var u=0;u<a;++u)W[s+u]=n[u];return e!==null&&e.push(X,c),c},argPackAdvance:G,readValueFromPointer:lt,destructorFunction(e){X(e)}})},xr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,In=(t,r)=>{for(var e=t,n=e>>1,a=n+r/2;!(n>=a)&&mt[n];)++n;if(e=n<<1,e-t>32&&xr)return xr.decode(W.subarray(t,e));for(var i="",c=0;!(c>=r/2);++c){var s=ct[t+c*2>>1];if(s==0)break;i+=String.fromCharCode(s)}return i},Dn=(t,r,e)=>{var n;if((n=e)!==null&&n!==void 0||(e=2147483647),e<2)return 0;e-=2;for(var a=r,i=e<t.length*2?e/2:t.length,c=0;c<i;++c){var s=t.charCodeAt(c);ct[r>>1]=s,r+=2}return ct[r>>1]=0,r-a},jn=t=>t.length*2,Mn=(t,r)=>{for(var e=0,n="";!(e>=r/4);){var a=et[t+e*4>>2];if(a==0)break;if(++e,a>=65536){var i=a-65536;n+=String.fromCharCode(55296|i>>10,56320|i&1023)}else n+=String.fromCharCode(a)}return n},Fn=(t,r,e)=>{var n;if((n=e)!==null&&n!==void 0||(e=2147483647),e<4)return 0;for(var a=r,i=a+e-4,c=0;c<t.length;++c){var s=t.charCodeAt(c);if(s>=55296&&s<=57343){var u=t.charCodeAt(++c);s=65536+((s&1023)<<10)|u&1023}if(et[r>>2]=s,r+=4,r+4>i)break}return et[r>>2]=0,r-a},Rn=t=>{for(var r=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);n>=55296&&n<=57343&&++e,r+=4}return r},kn=(t,r,e)=>{e=R(e);var n,a,i,c;r===2?(n=In,a=Dn,c=jn,i=s=>mt[s>>1]):r===4&&(n=Mn,a=Fn,c=Rn,i=s=>_[s>>2]),V(t,{name:e,fromWireType:s=>{for(var u=_[s>>2],d,p=s+4,v=0;v<=u;++v){var $=s+4+v*r;if(v==u||i($)==0){var C=$-p,E=n(p,C);d===void 0?d=E:(d+="\0",d+=E),p=$+r}}return X(s),d},toWireType:(s,u)=>{typeof u!="string"&&b(`Cannot pass non-string to C++ string type ${e}`);var d=c(u),p=tr(4+d+r);return _[p>>2]=d/r,a(u,p+4,d+r),s!==null&&s.push(X,p),p},argPackAdvance:G,readValueFromPointer:lt,destructorFunction(s){X(s)}})},Un=(t,r,e,n,a,i)=>{Ct[t]={name:R(r),rawConstructor:L(e,n),rawDestructor:L(a,i),fields:[]}},Wn=(t,r,e,n,a,i,c,s,u,d)=>{Ct[t].fields.push({fieldName:R(r),getterReturnType:e,getter:L(n,a),getterContext:i,setterArgumentType:c,setter:L(s,u),setterContext:d})},Bn=(t,r)=>{r=R(r),V(t,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(e,n)=>{}})},Ln=(t,r,e)=>W.copyWithin(t,r,r+e),Zt=[],Hn=(t,r,e,n)=>(t=Zt[t],r=K.toValue(r),t(null,r,e,n)),Vn={},Nn=t=>{var r=Vn[t];return r===void 0?R(t):r},Ir=()=>{if(typeof globalThis=="object")return globalThis;function t(r){r.$$$embind_global$$$=r;var e=typeof $$$embind_global$$$=="object"&&r.$$$embind_global$$$==r;return e||delete r.$$$embind_global$$$,e}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&t(global)?$$$embind_global$$$=global:typeof self=="object"&&t(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},zn=t=>t===0?K.toHandle(Ir()):(t=Nn(t),K.toHandle(Ir()[t])),Gn=t=>{var r=Zt.length;return Zt.push(t),r},Dr=(t,r)=>{var e=Z[t];return e===void 0&&b(`${r} has unknown type ${Pr(t)}`),e},Qn=(t,r)=>{for(var e=new Array(t),n=0;n<t;++n)e[n]=Dr(_[r+n*4>>2],"parameter "+n);return e},Kn=Reflect.construct,Xn=(t,r,e)=>{var n=[],a=t.toWireType(n,e);return n.length&&(_[r>>2]=K.toHandle(n)),a},Jn=(t,r,e)=>{var n=Qn(t,r),a=n.shift();t--;var i=new Array(t),c=(u,d,p,v)=>{for(var $=0,C=0;C<t;++C)i[C]=n[C].readValueFromPointer(v+$),$+=n[C].argPackAdvance;var E=e===1?Kn(d,i):d.apply(u,i);return Xn(a,p,E)},s=`methodCaller<(${n.map(u=>u.name).join(", ")}) => ${a.name}>`;return Gn(At(s,c))},Yn=t=>{t>9&&(Q[t+1]+=1)},Zn=t=>{var r=K.toValue(t);Vt(r),Jt(t)},qn=(t,r)=>{t=Dr(t,"_emval_take_value");var e=t.readValueFromPointer(r);return K.toHandle(e)},ta=(t,r,e,n)=>{var a=new Date().getFullYear(),i=new Date(a,0,1),c=new Date(a,6,1),s=i.getTimezoneOffset(),u=c.getTimezoneOffset(),d=Math.max(s,u);_[t>>2]=d*60,et[r>>2]=+(s!=u);var p=C=>{var E=C>=0?"-":"+",M=Math.abs(C),I=String(Math.floor(M/60)).padStart(2,"0"),D=String(M%60).padStart(2,"0");return`UTC${E}${I}${D}`},v=p(s),$=p(u);u<s?(dt(v,e,17),dt($,n,17)):(dt(v,n,17),dt($,e,17))},ra=()=>2147483648,ea=(t,r)=>Math.ceil(t/r)*r,na=t=>{var r=yt.buffer,e=(t-r.byteLength+65535)/65536|0;try{return yt.grow(e),ur(),1}catch{}},aa=t=>{var r=W.length;t>>>=0;var e=ra();if(t>e)return!1;for(var n=1;n<=4;n*=2){var a=r*(1+.2/n);a=Math.min(a,t+100663296);var i=Math.min(e,ea(Math.max(t,a),65536)),c=na(i);if(c)return!0}return!1},qt={},oa=()=>U||"./this.program",ht=()=>{if(!ht.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:oa()};for(var e in qt)qt[e]===void 0?delete r[e]:r[e]=qt[e];var n=[];for(var e in r)n.push(`${e}=${r[e]}`);ht.strings=n}return ht.strings},ia=(t,r)=>{for(var e=0;e<t.length;++e)N[r++]=t.charCodeAt(e);N[r]=0},sa=(t,r)=>{var e=0;return ht().forEach((n,a)=>{var i=r+e;_[t+a*4>>2]=i,ia(n,i),e+=n.length+1}),0},ca=(t,r)=>{var e=ht();_[t>>2]=e.length;var n=0;return e.forEach(a=>n+=a.length+1),_[r>>2]=n,0},ua=t=>52;function la(t,r,e,n,a){return 70}var fa=[null,[],[]],da=(t,r)=>{var e=fa[t];r===0||r===10?((t===1?pe:rt)(Sr(e)),e.length=0):e.push(r)},ha=(t,r,e,n)=>{for(var a=0,i=0;i<e;i++){var c=_[r>>2],s=_[r+4>>2];r+=8;for(var u=0;u<s;u++)da(t,W[c+u]);a+=s}return _[n>>2]=a,0},pa=t=>t;pr=l.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Ve(),at=l.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Ze(),sn(),_r=l.UnboundTypeError=fn(Error,"UnboundTypeError"),mn();var va={s:Ie,w:De,a:Me,j:Fe,l:Re,M:ke,p:Ue,ca:We,d:je,Z:Be,sa:Le,Y:He,na:ze,qa:dn,pa:pn,D:vn,la:gn,Q:$n,R:bn,x:Tn,t:_n,ra:En,ma:xn,N:kn,J:Un,ta:Wn,oa:Bn,fa:Ln,U:Hn,ua:Jt,wa:zn,_:Jn,S:Yn,va:Zn,ka:qn,$:ta,da:aa,aa:sa,ba:ca,ea:ua,W:la,P:ha,H:Ra,B:Ua,T:ba,O:za,q:Da,b:ma,C:Fa,ha:Ba,c:wa,ga:La,h:$a,i:Ea,r:Aa,L:Ma,v:Sa,G:Va,I:ja,z:Wa,F:Ga,X:Ka,V:Xa,k:Ta,f:Ca,e:ga,g:ya,K:Na,m:Pa,ia:ka,o:Oa,u:xa,ja:Ia,A:Ha,n:_a,E:Qa,y:pa},A;xe();var jr=t=>(jr=A.za)(t),X=l._free=t=>(X=l._free=A.Aa)(t),tr=l._malloc=t=>(tr=l._malloc=A.Ca)(t),Mr=t=>(Mr=A.Da)(t),y=(t,r)=>(y=A.Ea)(t,r),Fr=t=>(Fr=A.Fa)(t),Rr=t=>(Rr=A.Ga)(t),kr=()=>(kr=A.Ha)(),Ur=t=>(Ur=A.Ia)(t),Wr=t=>(Wr=A.Ja)(t),Br=(t,r,e)=>(Br=A.Ka)(t,r,e);l.dynCall_viijii=(t,r,e,n,a,i,c)=>(l.dynCall_viijii=A.La)(t,r,e,n,a,i,c);var Lr=l.dynCall_jiii=(t,r,e,n)=>(Lr=l.dynCall_jiii=A.Ma)(t,r,e,n);l.dynCall_jiji=(t,r,e,n,a)=>(l.dynCall_jiji=A.Na)(t,r,e,n,a);var Hr=l.dynCall_jiiii=(t,r,e,n,a)=>(Hr=l.dynCall_jiiii=A.Oa)(t,r,e,n,a);l.dynCall_iiiiij=(t,r,e,n,a,i,c)=>(l.dynCall_iiiiij=A.Pa)(t,r,e,n,a,i,c),l.dynCall_iiiiijj=(t,r,e,n,a,i,c,s,u)=>(l.dynCall_iiiiijj=A.Qa)(t,r,e,n,a,i,c,s,u),l.dynCall_iiiiiijj=(t,r,e,n,a,i,c,s,u,d)=>(l.dynCall_iiiiiijj=A.Ra)(t,r,e,n,a,i,c,s,u,d);function ya(t,r,e,n){var a=g();try{w(t)(r,e,n)}catch(i){if(m(a),i!==i+0)throw i;y(1,0)}}function ma(t,r){var e=g();try{return w(t)(r)}catch(n){if(m(e),n!==n+0)throw n;y(1,0)}}function ga(t,r,e){var n=g();try{w(t)(r,e)}catch(a){if(m(n),a!==a+0)throw a;y(1,0)}}function wa(t,r,e){var n=g();try{return w(t)(r,e)}catch(a){if(m(n),a!==a+0)throw a;y(1,0)}}function $a(t,r,e,n){var a=g();try{return w(t)(r,e,n)}catch(i){if(m(a),i!==i+0)throw i;y(1,0)}}function ba(t,r,e,n,a){var i=g();try{return w(t)(r,e,n,a)}catch(c){if(m(i),c!==c+0)throw c;y(1,0)}}function Ca(t,r){var e=g();try{w(t)(r)}catch(n){if(m(e),n!==n+0)throw n;y(1,0)}}function Ta(t){var r=g();try{w(t)()}catch(e){if(m(r),e!==e+0)throw e;y(1,0)}}function _a(t,r,e,n,a,i,c,s,u,d,p){var v=g();try{w(t)(r,e,n,a,i,c,s,u,d,p)}catch($){if(m(v),$!==$+0)throw $;y(1,0)}}function Pa(t,r,e,n,a){var i=g();try{w(t)(r,e,n,a)}catch(c){if(m(i),c!==c+0)throw c;y(1,0)}}function Ea(t,r,e,n,a){var i=g();try{return w(t)(r,e,n,a)}catch(c){if(m(i),c!==c+0)throw c;y(1,0)}}function Aa(t,r,e,n,a,i){var c=g();try{return w(t)(r,e,n,a,i)}catch(s){if(m(c),s!==s+0)throw s;y(1,0)}}function Oa(t,r,e,n,a,i){var c=g();try{w(t)(r,e,n,a,i)}catch(s){if(m(c),s!==s+0)throw s;y(1,0)}}function Sa(t,r,e,n,a,i,c){var s=g();try{return w(t)(r,e,n,a,i,c)}catch(u){if(m(s),u!==u+0)throw u;y(1,0)}}function xa(t,r,e,n,a,i,c,s){var u=g();try{w(t)(r,e,n,a,i,c,s)}catch(d){if(m(u),d!==d+0)throw d;y(1,0)}}function Ia(t,r,e,n,a,i,c,s,u){var d=g();try{w(t)(r,e,n,a,i,c,s,u)}catch(p){if(m(d),p!==p+0)throw p;y(1,0)}}function Da(t){var r=g();try{return w(t)()}catch(e){if(m(r),e!==e+0)throw e;y(1,0)}}function ja(t,r,e,n,a,i,c,s,u){var d=g();try{return w(t)(r,e,n,a,i,c,s,u)}catch(p){if(m(d),p!==p+0)throw p;y(1,0)}}function Ma(t,r,e,n,a,i,c){var s=g();try{return w(t)(r,e,n,a,i,c)}catch(u){if(m(s),u!==u+0)throw u;y(1,0)}}function Fa(t,r,e,n){var a=g();try{return w(t)(r,e,n)}catch(i){if(m(a),i!==i+0)throw i;y(1,0)}}function Ra(t,r,e,n){var a=g();try{return w(t)(r,e,n)}catch(i){if(m(a),i!==i+0)throw i;y(1,0)}}function ka(t,r,e,n,a,i,c,s){var u=g();try{w(t)(r,e,n,a,i,c,s)}catch(d){if(m(u),d!==d+0)throw d;y(1,0)}}function Ua(t,r,e,n,a,i){var c=g();try{return w(t)(r,e,n,a,i)}catch(s){if(m(c),s!==s+0)throw s;y(1,0)}}function Wa(t,r,e,n,a,i,c,s,u,d){var p=g();try{return w(t)(r,e,n,a,i,c,s,u,d)}catch(v){if(m(p),v!==v+0)throw v;y(1,0)}}function Ba(t,r,e){var n=g();try{return w(t)(r,e)}catch(a){if(m(n),a!==a+0)throw a;y(1,0)}}function La(t,r,e,n,a){var i=g();try{return w(t)(r,e,n,a)}catch(c){if(m(i),c!==c+0)throw c;y(1,0)}}function Ha(t,r,e,n,a,i,c,s,u,d){var p=g();try{w(t)(r,e,n,a,i,c,s,u,d)}catch(v){if(m(p),v!==v+0)throw v;y(1,0)}}function Va(t,r,e,n,a,i,c,s){var u=g();try{return w(t)(r,e,n,a,i,c,s)}catch(d){if(m(u),d!==d+0)throw d;y(1,0)}}function Na(t,r,e,n,a,i,c){var s=g();try{w(t)(r,e,n,a,i,c)}catch(u){if(m(s),u!==u+0)throw u;y(1,0)}}function za(t,r,e,n){var a=g();try{return w(t)(r,e,n)}catch(i){if(m(a),i!==i+0)throw i;y(1,0)}}function Ga(t,r,e,n,a,i,c,s,u,d,p,v){var $=g();try{return w(t)(r,e,n,a,i,c,s,u,d,p,v)}catch(C){if(m($),C!==C+0)throw C;y(1,0)}}function Qa(t,r,e,n,a,i,c,s,u,d,p,v,$,C,E,M){var I=g();try{w(t)(r,e,n,a,i,c,s,u,d,p,v,$,C,E,M)}catch(D){if(m(I),D!==D+0)throw D;y(1,0)}}function Ka(t,r,e,n){var a=g();try{return Lr(t,r,e,n)}catch(i){if(m(a),i!==i+0)throw i;y(1,0)}}function Xa(t,r,e,n,a){var i=g();try{return Hr(t,r,e,n,a)}catch(c){if(m(i),c!==c+0)throw c;y(1,0)}}var It;ut=function t(){It||Vr(),It||(ut=t)};function Vr(){if(Y>0||(ve(),Y>0))return;function t(){var r;It||(It=!0,l.calledRun=!0,!ir&&(ye(),O(l),(r=l.onRuntimeInitialized)===null||r===void 0||r.call(l),me()))}l.setStatus?(l.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>l.setStatus(""),1),t()},1)):t()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();return Vr(),T=F,T}})();function So(o){return ee(ne,o)}async function xo(o,f){return Oo(ne,o,f)}const ae=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],Io=[...ae,["unknown"]].map(o=>o[0]),or=new Map(ae);function Do(o){for(const[f,h]of or)if(o===h)return f;return"unknown"}function jo(o){if(oe(o))return{width:o.naturalWidth,height:o.naturalHeight};if(ie(o))return{width:o.width.baseVal.value,height:o.height.baseVal.value};if(se(o))return{width:o.videoWidth,height:o.videoHeight};if(ue(o))return{width:o.width,height:o.height};if(fe(o))return{width:o.displayWidth,height:o.displayHeight};if(ce(o))return{width:o.width,height:o.height};if(le(o))return{width:o.width,height:o.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function oe(o){var f,h;try{return o instanceof((h=(f=o==null?void 0:o.ownerDocument)==null?void 0:f.defaultView)==null?void 0:h.HTMLImageElement)}catch{return!1}}function ie(o){var f,h;try{return o instanceof((h=(f=o==null?void 0:o.ownerDocument)==null?void 0:f.defaultView)==null?void 0:h.SVGImageElement)}catch{return!1}}function se(o){var f,h;try{return o instanceof((h=(f=o==null?void 0:o.ownerDocument)==null?void 0:f.defaultView)==null?void 0:h.HTMLVideoElement)}catch{return!1}}function ce(o){var f,h;try{return o instanceof((h=(f=o==null?void 0:o.ownerDocument)==null?void 0:f.defaultView)==null?void 0:h.HTMLCanvasElement)}catch{return!1}}function ue(o){try{return o instanceof ImageBitmap||Object.prototype.toString.call(o)==="[object ImageBitmap]"}catch{return!1}}function le(o){try{return o instanceof OffscreenCanvas||Object.prototype.toString.call(o)==="[object OffscreenCanvas]"}catch{return!1}}function fe(o){try{return o instanceof VideoFrame||Object.prototype.toString.call(o)==="[object VideoFrame]"}catch{return!1}}function Mo(o){try{return o instanceof Blob||Object.prototype.toString.call(o)==="[object Blob]"}catch{return!1}}function Fo(o){try{return o instanceof ImageData||Object.prototype.toString.call(o)==="[object ImageData]"}catch{return!1}}function Ro(o,f){try{const h=new OffscreenCanvas(o,f);if(h.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return h;throw void 0}catch{const h=document.createElement("canvas");return h.width=o,h.height=f,h}}async function de(o){if(oe(o)&&!await Bo(o))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(ie(o)&&!await Lo(o))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(fe(o)&&Ho(o))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(se(o)&&(o.readyState===0||o.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(ue(o)&&No(o))throw new DOMException("The image source is detached.","InvalidStateError");const{width:f,height:h}=jo(o);if(f===0||h===0)return null;const T=Ro(f,h).getContext("2d");T.drawImage(o,0,0);try{return T.getImageData(0,0,f,h)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ko(o){let f;try{f=await createImageBitmap(o)}catch{try{if(globalThis.Image){f=new Image;let h="";try{h=URL.createObjectURL(o),f.src=h,await f.decode()}finally{URL.revokeObjectURL(h)}}else return o}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await de(f)}function Uo(o){const{width:f,height:h}=o;if(f===0||h===0)return null;const T=o.getContext("2d");try{return T.getImageData(0,0,f,h)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Wo(o){if(Mo(o))return await ko(o);if(Fo(o)){if(Vo(o))throw new DOMException("The image data has been detached.","InvalidStateError");return o}return ce(o)||le(o)?Uo(o):await de(o)}async function Bo(o){try{return await o.decode(),!0}catch{return!1}}async function Lo(o){var f;try{return await((f=o.decode)==null?void 0:f.call(o)),!0}catch{return!1}}function Ho(o){return o.format===null}function Vo(o){return o.data.buffer.byteLength===0}function No(o){return o.width===0&&o.height===0}function Yr(o,f){return zo(o)?new DOMException(`${f}: ${o.message}`,o.name):Go(o)?new o.constructor(`${f}: ${o.message}`):new Error(`${f}: ${o}`)}function zo(o){return o instanceof DOMException||Object.prototype.toString.call(o)==="[object DOMException]"}function Go(o){return o instanceof Error||Object.prototype.toString.call(o)==="[object Error]"}var Ft;class he{constructor(f={}){uo(this,Ft);var h;try{const T=(h=f==null?void 0:f.formats)==null?void 0:h.filter(l=>l!=="unknown");if((T==null?void 0:T.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const l of T??[])if(!or.has(l))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${l}' is not a valid enum value of type BarcodeFormat.`);lo(this,Ft,T??[]),So({fireImmediately:!0}).catch(()=>{})}catch(T){throw Yr(T,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Io.filter(f=>f!=="unknown")}async detect(f){try{const h=await Wo(f);if(h===null)return[];let T;const l={tryCode39ExtendedMode:!1,textMode:"Plain",formats:co(this,Ft).map(O=>or.get(O))};try{T=await xo(h,l)}catch(O){throw console.error(O),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return T.map(O=>{const{topLeft:{x:S,y:F},topRight:{x:P,y:j},bottomLeft:{x:B,y:H},bottomRight:{x:U,y:x}}=O.position,pt=Math.min(S,P,B,U),ot=Math.min(F,j,H,x),it=Math.max(S,P,B,U),st=Math.max(F,j,H,x);return{boundingBox:new DOMRectReadOnly(pt,ot,it-pt,st-ot),rawValue:O.text,format:Do(O.format),cornerPoints:[{x:S,y:F},{x:P,y:j},{x:U,y:x},{x:B,y:H}]}})}catch(h){throw Yr(h,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Ft=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=he);var Qo=Zr('<div><video autoplay playsinline="" class="svelte-ib6kvy"></video> <button>Start</button> <button>Stop</button></div>',2);function Ko(o,f){Za(f,!1);let h=ro(),T,l=!1;async function O(){if(!("BarcodeDetector"in window)){alert("Barcode Detector is not supported by this browser.");return}try{T=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),ao(h,rr(h).srcObject=T),l=!0,S()}catch(U){console.error("Camera Error",U)}}async function S(){const U=new he({formats:["qr_code","codabar","ean_13"]});for(;l;){try{const x=await U.detect(rr(h));x.length>0&&(l=!1,alert("Barcode:"+x[0].rawValue),F())}catch(x){console.error("Error on Scanning",x)}await new Promise(x=>setTimeout(x,500))}}function F(){T&&T.getTracks().forEach(U=>U.stop()),l=!1}so(F),Ya();var P=Qo(),j=qa(P);j.muted=!0,io(j,U=>eo(h,U),()=>rr(h));var B=nr(j,2),H=nr(B,2);no(P),Kr("click",B,O),Kr("click",H,F),qr(o,P),to()}var Xo=Zr("<h1>Welcome to SvelteKit</h1> <!>",1);function ei(o){var f=Xo(),h=nr(oo(f),2);Ko(h,{}),qr(o,f)}export{ei as component};
